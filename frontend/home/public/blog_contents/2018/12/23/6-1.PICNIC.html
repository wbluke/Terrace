<h1 id="알고리즘-6-1.-picnic-소풍">[알고리즘] 6-1. PICNIC (소풍)</h1>
<h3 id="문제">문제</h3>
<hr />
<details>
<p><summary>문제 보기</summary></p>
<p><a href="https://algospot.com/judge/problem/read/PICNIC">Algospot Link : PICNIC</a></p>
<p>안드로메다 유치원 익스프레스반에서는 다음 주에 율동공원으로 소풍을 갑니다. 원석 선생님은 소풍 때 학생들을 두 명씩 짝을 지어 행동하게 하려고 합니다. 그런데 서로 친구가 아닌 학생들끼리 짝을 지어 주면 서로 싸우거나 같이 돌아다니지 않기 때문에, 항상 서로 친구인 학생들끼리만 짝을 지어 줘야 합니다.</p>
<p>각 학생들의 쌍에 대해 이들이 서로 친구인지 여부가 주어질 때, 학생들을 짝지어줄 수 있는 방법의 수를 계산하는 프로그램을 작성하세요. 짝이 되는 학생들이 일부만 다르더라도 다른 방법이라고 봅니다. 예를 들어 다음 두 가지 방법은 서로 다른 방법입니다.</p>
<p>(태연,제시카) (써니,티파니) (효연,유리) (태연,제시카) (써니,유리) (효연,티파니) 입력 입력의 첫 줄에는 테스트 케이스의 수 C (C &lt;= 50) 가 주어집니다. 각 테스트 케이스의 첫 줄에는 학생의 수 n (2 &lt;= n &lt;= 10) 과 친구 쌍의 수 m (0 &lt;= m &lt;= n*(n-1)/2) 이 주어집니다. 그 다음 줄에 m 개의 정수 쌍으로 서로 친구인 두 학생의 번호가 주어집니다. 번호는 모두 0 부터 n-1 사이의 정수이고, 같은 쌍은 입력에 두 번 주어지지 않습니다. 학생들의 수는 짝수입니다.</p>
<p>출력 각 테스트 케이스마다 한 줄에 모든 학생을 친구끼리만 짝지어줄 수 있는 방법의 수를 출력합니다.</p>
<p>예제 입력</p>
<pre><code>3
2 1
0 1
4 6
0 1 1 2 2 3 3 0 0 2 1 3
6 10
0 1 0 2 1 2 1 3 1 4 2 3 2 4 3 4 3 5 4 5</code></pre>
<p>예제 출력</p>
<pre><code>1
3
4</code></pre>
</details>
<h3 id="정리">정리</h3>
<hr />
<ul>
<li>재귀호출의 기본은 아래와 같습니다.</li>
</ul>
<pre><code>1. 기저사례(Base Case) 설정
2. 한 조각(작업)을 마친 후 되돌아오는 과정(이 때, 문제의 크기가 작아져야 한다.)</code></pre>
<p>재귀 호출을 이용하여 문제를 해결하려면 우선 각 답을 만드는 과정을 여러 개의 조각으로 나누어야 합니다.<br />
이 문제에서는 <code>아직 짝을 찾지 못한 학생들의 명단이 주어질 때, 친구끼리 둘씩 짝짓는 경우의 수를 계산하라.</code> 가 한 조각이 되겠습니다.</p>
<ul>
<li>친구인 학생 쌍의 표시를 bool타입의 이차원배열에 저장합니다.<br />
재귀호출을 할 countPairing()함수의 인자는 bool타입의 일차원배열이다. i번째 학생이 짝을 찾았으면 true, 아니면 false로 구현한다. 중복으로 세는 문제와 순서 존재 문제를 해결하기 위해, 각 단계에서 남아있는 학생들 중 가장 번호가 빠른 학생의 짝을 찾아주도록 한다.</li>
</ul>
<h3 id="코드">코드</h3>
<hr />
<!-- <details>
<summary>코드 보기</summary> -->
<div class="sourceCode" id="cb4"><pre class="sourceCode cpp"><code class="sourceCode cpp"><a class="sourceLine" id="cb4-1" title="1"></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="pp">#include</span><span class="im">&lt;iostream&gt;</span></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="pp">#include</span><span class="im">&lt;cstring&gt;</span></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="kw">using</span> <span class="kw">namespace</span> std;</a>
<a class="sourceLine" id="cb4-5" title="5"></a>
<a class="sourceLine" id="cb4-6" title="6"><span class="dt">int</span> student, soulmateCount;</a>
<a class="sourceLine" id="cb4-7" title="7"><span class="dt">bool</span> soulmate[<span class="dv">10</span>][<span class="dv">10</span>];</a>
<a class="sourceLine" id="cb4-8" title="8"><span class="dt">bool</span> matching[<span class="dv">10</span>];</a>
<a class="sourceLine" id="cb4-9" title="9"></a>
<a class="sourceLine" id="cb4-10" title="10"><span class="dt">int</span> countPairing(<span class="dt">bool</span> matching[<span class="dv">10</span>]) {</a>
<a class="sourceLine" id="cb4-11" title="11"></a>
<a class="sourceLine" id="cb4-12" title="12">    <span class="dt">int</span> first = -<span class="dv">1</span>;</a>
<a class="sourceLine" id="cb4-13" title="13">    <span class="cf">for</span> (<span class="dt">int</span> i = <span class="dv">0</span>; i &lt; student; i++) {</a>
<a class="sourceLine" id="cb4-14" title="14">        <span class="cf">if</span> (!matching[i]) {</a>
<a class="sourceLine" id="cb4-15" title="15">            first = i;</a>
<a class="sourceLine" id="cb4-16" title="16">            <span class="cf">break</span>;</a>
<a class="sourceLine" id="cb4-17" title="17">        }</a>
<a class="sourceLine" id="cb4-18" title="18">    }</a>
<a class="sourceLine" id="cb4-19" title="19"></a>
<a class="sourceLine" id="cb4-20" title="20">    <span class="co">//base case</span></a>
<a class="sourceLine" id="cb4-21" title="21">    <span class="cf">if</span> (first == -<span class="dv">1</span>) <span class="cf">return</span> <span class="dv">1</span>;</a>
<a class="sourceLine" id="cb4-22" title="22"></a>
<a class="sourceLine" id="cb4-23" title="23">    <span class="dt">int</span> ret = <span class="dv">0</span>;</a>
<a class="sourceLine" id="cb4-24" title="24">    <span class="cf">for</span> (<span class="dt">int</span> soul = first + <span class="dv">1</span>; soul &lt; student; soul++) {</a>
<a class="sourceLine" id="cb4-25" title="25">        <span class="cf">if</span> (!matching[soul] &amp;&amp; soulmate[first][soul]) {</a>
<a class="sourceLine" id="cb4-26" title="26">            matching[first] = matching[soul] = <span class="kw">true</span>;</a>
<a class="sourceLine" id="cb4-27" title="27">            ret += countPairing(matching);</a>
<a class="sourceLine" id="cb4-28" title="28">            matching[first] = matching[soul] = <span class="kw">false</span>;</a>
<a class="sourceLine" id="cb4-29" title="29">        }</a>
<a class="sourceLine" id="cb4-30" title="30">    }</a>
<a class="sourceLine" id="cb4-31" title="31">    <span class="cf">return</span> ret;</a>
<a class="sourceLine" id="cb4-32" title="32">}</a>
<a class="sourceLine" id="cb4-33" title="33"></a>
<a class="sourceLine" id="cb4-34" title="34"><span class="dt">int</span> main(<span class="dt">void</span>) {</a>
<a class="sourceLine" id="cb4-35" title="35"></a>
<a class="sourceLine" id="cb4-36" title="36">    <span class="dt">int</span> num, f1, f2;</a>
<a class="sourceLine" id="cb4-37" title="37">    cin &gt;&gt; num;</a>
<a class="sourceLine" id="cb4-38" title="38"></a>
<a class="sourceLine" id="cb4-39" title="39">    <span class="cf">for</span> (<span class="dt">int</span> i = <span class="dv">0</span>; i &lt; num; i++) {</a>
<a class="sourceLine" id="cb4-40" title="40"></a>
<a class="sourceLine" id="cb4-41" title="41">        cin &gt;&gt; student &gt;&gt; soulmateCount;</a>
<a class="sourceLine" id="cb4-42" title="42"></a>
<a class="sourceLine" id="cb4-43" title="43">        memset(soulmate, <span class="kw">false</span>, <span class="kw">sizeof</span>(soulmate));</a>
<a class="sourceLine" id="cb4-44" title="44">        memset(matching, <span class="kw">false</span>, <span class="kw">sizeof</span>(matching));</a>
<a class="sourceLine" id="cb4-45" title="45"></a>
<a class="sourceLine" id="cb4-46" title="46">        <span class="cf">for</span> (<span class="dt">int</span> j = <span class="dv">0</span>; j &lt; soulmateCount; j++) {</a>
<a class="sourceLine" id="cb4-47" title="47">            cin &gt;&gt; f1 &gt;&gt; f2;</a>
<a class="sourceLine" id="cb4-48" title="48">            soulmate[f1][f2] = soulmate[f2][f1] = <span class="kw">true</span>;</a>
<a class="sourceLine" id="cb4-49" title="49">        }</a>
<a class="sourceLine" id="cb4-50" title="50">        cout &lt;&lt; countPairing(matching) &lt;&lt; endl;</a>
<a class="sourceLine" id="cb4-51" title="51"></a>
<a class="sourceLine" id="cb4-52" title="52">    }</a>
<a class="sourceLine" id="cb4-53" title="53"></a>
<a class="sourceLine" id="cb4-54" title="54"></a>
<a class="sourceLine" id="cb4-55" title="55">    <span class="cf">return</span> <span class="dv">0</span>;</a>
<a class="sourceLine" id="cb4-56" title="56">}</a></code></pre></div>
<!-- </details> -->
<h3 id="문법">문법</h3>
<hr />
<ul>
<li>memset : 어떤 메모리의 시작점부터 연속된 범위를 어떤 값으로(바이트 단위) 모두 지정하고 싶을 때 사용하는 함수<br />
void * memset ( void * ptr, int value, size_t num );<br />
<strong>주의) cstring 헤더 안에 있습니다. 선언 필요!</strong></li>
</ul>
