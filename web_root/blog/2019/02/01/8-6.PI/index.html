<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"><link rel="icon" href="/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/styles/default.min.css"><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><title> | Luke's Note</title><link href="/css/app.39081179.css" rel="preload" as="style"><link href="/css/chunk-vendors.bad0137f.css" rel="preload" as="style"><link href="/js/app.16a60a2e.js" rel="preload" as="script"><link href="/js/chunk-vendors.319ec894.js" rel="preload" as="script"><link href="/css/chunk-vendors.bad0137f.css" rel="stylesheet"><link href="/css/app.39081179.css" rel="stylesheet"><meta charset="utf-8" data-vue-meta="true"><meta property="og:image" content="https://wbluke.com/img/about.f9a09115.jpeg" data-vmid="og:image" data-vue-meta="true"><meta property="og:title" content="8-6.PI | Luke's Note" data-vmid="og:title" data-vue-meta="true"><meta property="og:description" content="Thank you for reading my article 🦊" data-vmid="og:description" data-vue-meta="true"><script type="text/javascript" async="">var disqus_shortname  = "wbluke-com";
var disqus_title      = "8-6.PI";
var disqus_identifier = "/2019/02/01/8-6.PI/";
var disqus_url        = "http://wbluke.com/blog/2019/02/01/8-6.PI/";
</script><script type="text/javascript" async="" src="//wbluke-com.disqus.com/embed.js"></script><link rel="preload" as="style" href="https://c.disquscdn.com/next/embed/styles/lounge.9974049bf7b0591e5d4f055cb67f3ee3.css"><link rel="preload" as="script" href="https://c.disquscdn.com/next/embed/common.bundle.880980e048a2432334f13013030456ac.js"><link rel="preload" as="script" href="https://c.disquscdn.com/next/embed/lounge.bundle.7ca5005d1897180d07d928e89d2628be.js"><link rel="preload" as="script" href="https://disqus.com/next/config.js"></head><body><noscript></noscript><div id="app"><div id="site-title"><a href="/" class="page_title router-link-active"><h1><img id="site-logo" src="/img/favicon.4eb5b8a7.png" width="24" height="24">
        Luke's Note
      </h1></a></div><div class="menu effect"><ul><li><a href="/" class="router-link-active">About</a></li><li><a href="/blog/" class="router-link-active">Blog</a></li><li><a href="/insight/" class="">Insight</a></li></ul></div><p><div data-v-16954152="" id="blog"><div data-v-16954152="" id="blog-contents"><article data-v-16954152=""><div data-v-16954152="" class="inner-title-container"><h1 data-v-16954152=""><a data-v-16954152="" href="http://wbluke.com/blog/2019/02/01/8-6.PI/" id="inner-title">[알고리즘] 8-6. PI (원주율 외우기)</a></h1><p data-v-16954152="" class="meta">2019. 02. 01. </p></div><div data-v-16954152="" id="article-content"><h1 id="알고리즘-8-6.-pi-원주율-외우기" style="display: none;">[알고리즘] 8-6. PI (원주율 외우기)</h1>
<h3 id="문제">문제</h3>
<hr>
<details>
<p></p><summary>문제 보기</summary><p></p>
<p><a href="https://algospot.com/judge/problem/read/PI">Algospot Link : PI</a></p>
<p><strong>문제</strong></p>
<p>(주의: 이 문제는 TopCoder 의 번역 문제입니다.)</p>
<p>가끔 TV 에 보면 원주율을 몇만 자리까지 줄줄 외우는 신동들이 등장하곤 합니다. 이들이 이 수를 외우기 위해 사용하는 방법 중 하나로, 숫자를 몇 자리 이상 끊어 외우는 것이 있습니다. 이들은 숫자를 세 자리에서 다섯 자리까지로 끊어서 외우는데, 가능하면 <code class="hljs">55555</code> 나 <code class="hljs">123</code> 같이 외우기 쉬운 조각들이 많이 등장하는 방법을 택하곤 합니다.</p>
<p>이 때, 각 조각들의 난이도는 다음과 같이 정해집니다:</p>
<pre><code class="hljs markdown"><span class="hljs-bullet">1. </span>모든 숫자가 같을 때 (예: 333, 5555) 난이도: 1
<span class="hljs-bullet">2. </span>숫자가 1씩 단조 증가하거나 단조 감소할 때 (예: 23456, 3210) 난이도: 2
<span class="hljs-bullet">3. </span>두 개의 숫자가 번갈아 가며 출현할 때 (예: 323, 54545) 난이도: 4
<span class="hljs-bullet">4. </span>숫자가 등차 수열을 이룰 때 (예: 147, 8642) 난이도: 5
<span class="hljs-bullet">5. </span>그 외의 경우 난이도: 10  </code></pre>
<p>원주율의 일부가 입력으로 주어질 때, 난이도의 합을 최소화하도록 숫자들을 3자리에서 5자리까지 끊어 읽고 싶습니다. 최소의 난이도를 계산하는 프로그램을 작성하세요.</p>
<p><strong>입력</strong></p>
<p>입력의 첫 줄에는 테스트 케이스의 수 <code class="hljs">C (&lt;= 50)</code> 가 주어집니다. 각 테스트 케이스는 8글자 이상 10000글자 이하의 숫자로 주어집니다.</p>
<p><strong>출력</strong></p>
<p>각 테스트 케이스마다 한 줄에 최소의 난이도를 출력합니다.</p>
<p><strong>예제 입력</strong></p>
<pre><code class="hljs">5 
12341234 
11111222 
12122222 
22222222 
12673939 </code></pre>
<p><strong>예제 출력</strong></p>
<pre><code class="hljs">4
2
5
2
14</code></pre>
</details>
<h3 id="정리">정리</h3>
<hr>
<ul>
<li><p>차근차근 재귀 호출과 동적 계획법을 적용해가면 풀 수 있는 문제입니다.<br>
문제의 핵심 아이디어는, 주어진 문자열의 앞부분에서 3, 4, 5자리 씩 끊어서 각 경우마다 난이도를 판별하고, 나머지 문자열은 재귀호출하는 방식으로 구현해주는 것입니다.</p></li>
<li><p>우리는 최솟값을 찾고 있으므로, 각 조각마다 현재 return값과 계산해서 나온 값 중 작은 것을 ret에 저장하도록 해줍니다. 이를 위해 초기 비교값인 매우 큰 상수 INF를 지정해줍니다.</p></li>
<li><p>재귀 호출할 sumOfDifficulty()를 구현합니다. cache배열로 memoization할 준비를 하고, 길이가 5 이하일 경우를 base case로 처리한 후, 반복문 안에서 3, 4, 5조각씩 끊어서 각각 재귀호출을 해줍니다. 이 때 끊어낸 조각을 난이도를 판별하는 함수 checkDifficulty()로 보내줍니다.</p></li>
<li><p>checkDifficulty()의 구현은 크게 어려울 것이 없습니다. 5 이하의 길이 문자열에 대해서, 길이가 2보다 작거나 같은 경우는 난이도를 판별할 수 없는 Case이므로 매우 큰 수를 반환해주고, 각 난이도 별로 특성을 파악해 구현해주면 됩니다.</p></li>
</ul>
<h3 id="코드">코드</h3>
<hr>
<details>
<p></p><summary>코드 보기</summary><p></p>
<p><a href="https://github.com/wbluke/Algorithm_PS/blob/master/CH08_2/CH08_2/PI.cpp">Github Link</a></p>
<pre class="cpp"><code class="hljs"><span class="hljs-comment">/* PI.cpp */</span>

<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstring&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;

<span class="hljs-built_in">string</span> N;
<span class="hljs-keyword">int</span> cache[<span class="hljs-number">10000</span>];
<span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">987654321</span>;

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">checkDifficulty</span><span class="hljs-params">(<span class="hljs-built_in">string</span> N)</span></span>{
    <span class="hljs-keyword">if</span>(N.length() &lt;= <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span> INF;
    
    <span class="hljs-comment">//dificulty 1</span>
    <span class="hljs-keyword">bool</span> check = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;N.length(); ++i){
        <span class="hljs-keyword">if</span>(N[i] != N[<span class="hljs-number">0</span>]){
            check = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">break</span>;
        }
    }
    <span class="hljs-keyword">if</span>(check) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
    
    <span class="hljs-comment">//difficulty 2, 5</span>
    check = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;N.length() - <span class="hljs-number">2</span>; ++i){
        <span class="hljs-keyword">if</span>(N[i+<span class="hljs-number">2</span>] - N[i+<span class="hljs-number">1</span>] != N[i+<span class="hljs-number">1</span>] - N[i]){
            check = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">break</span>;
        }
    }
    <span class="hljs-keyword">if</span>(check){
        <span class="hljs-keyword">if</span>(N[<span class="hljs-number">1</span>] - N[<span class="hljs-number">0</span>] == <span class="hljs-number">1</span> || N[<span class="hljs-number">1</span>] - N[<span class="hljs-number">0</span>] == <span class="hljs-number">-1</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">2</span>;
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-number">5</span>;
    }
    
    <span class="hljs-comment">//difficulty 4</span>
    check = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;N.length()<span class="hljs-number">-2</span>; i += <span class="hljs-number">2</span>){
        <span class="hljs-keyword">if</span>(N[i+<span class="hljs-number">2</span>] != N[i]){
            check = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">break</span>;
        }
    }
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;N.length()<span class="hljs-number">-2</span>; i += <span class="hljs-number">2</span>){
        <span class="hljs-keyword">if</span>(N[i+<span class="hljs-number">2</span>] != N[i]){
            check = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">break</span>;
        }
    }
    <span class="hljs-keyword">if</span>(check) <span class="hljs-keyword">return</span> <span class="hljs-number">4</span>;

    <span class="hljs-keyword">return</span> <span class="hljs-number">10</span>;
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">sumOfDifficulty</span><span class="hljs-params">(<span class="hljs-keyword">int</span> idx)</span></span>{
    <span class="hljs-comment">//memoization</span>
    <span class="hljs-keyword">int</span> &amp;ret = cache[idx];
    <span class="hljs-keyword">if</span>(ret != <span class="hljs-number">-1</span>) <span class="hljs-keyword">return</span> ret;
    
    <span class="hljs-comment">//base case</span>
    <span class="hljs-keyword">if</span>(N.substr(idx).length() &lt;= <span class="hljs-number">5</span>)
        <span class="hljs-keyword">return</span> ret = checkDifficulty(N.substr(idx));
    
    ret = INF;
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">3</span>; i&lt;=<span class="hljs-number">5</span>; ++i){
        ret = min(ret, checkDifficulty(N.substr(idx, i)) + sumOfDifficulty(idx + i));
    }
    <span class="hljs-keyword">return</span> ret;
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span>{
    
    <span class="hljs-keyword">int</span> num;
    <span class="hljs-built_in">cin</span> &gt;&gt; num;
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> a=<span class="hljs-number">0</span>; a&lt;num; ++a){
        <span class="hljs-built_in">cin</span> &gt;&gt; N;
        <span class="hljs-built_in">memset</span>(cache, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span>(cache));
        <span class="hljs-built_in">cout</span> &lt;&lt; sumOfDifficulty(<span class="hljs-number">0</span>) &lt;&lt; <span class="hljs-built_in">endl</span>;
    }
    
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}</code></pre>
</details>
</div></article><hr data-v-16954152=""><div data-v-16954152="" id="disqus_thread"><iframe id="dsq-app5320" name="dsq-app5320" allowtransparency="true" frameborder="0" scrolling="no" tabindex="0" title="Disqus" width="100%" src="https://disqus.com/embed/comments/?base=default&amp;f=wbluke-com&amp;t_i=%2F2019%2F02%2F01%2F8-6.PI%2F&amp;t_u=http%3A%2F%2Fwbluke.com%2Fblog%2F2019%2F02%2F01%2F8-6.PI%2F&amp;t_e=8-6.PI&amp;t_d=%0A%20%20%20%20%20%20%20%20Luke's%20Note%0A%20%20%20%20%20%20&amp;t_t=8-6.PI&amp;s_o=default&amp;d_m=0#version=581fc4aed87cb2aed2487d2df585658d" style="width: 1px !important; min-width: 100% !important; border: none !important; overflow: hidden !important; height: 0px !important;"></iframe></div></div></div></p></div><script src="/js/chunk-vendors.319ec894.js"></script><script src="/js/app.16a60a2e.js"></script><iframe style="display: none;"></iframe></body></html>